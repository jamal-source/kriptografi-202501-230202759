# Laporan Praktikum Kriptografi
Minggu ke-: 10
Topik: Public Key Infrastructure (PKI & Certificate Authority)
Nama: Jamaludin
NIM: 2
Kelas: [Kelas]

---

## 1. Tujuan
Setelah mengikuti praktikum ini, mahasiswa diharapkan mampu:
1. Membuat sertifikat digital sederhana.
2. Menjelaskan peran Certificate Authority (CA) dalam sistem PKI.
3. Mengevaluasi fungsi PKI dalam komunikasi aman (contoh: HTTPS, TLS).

---

## 2. Dasar Teori
Public Key Infrastructure (PKI) adalah sistem yang menggunakan kriptografi kunci publik untuk mengelola identitas digital dan memastikan keamanan komunikasi. PKI melibatkan penggunaan sertifikat digital yang dikeluarkan oleh Certificate Authority (CA) untuk mengikat kunci publik dengan identitas entitas tertentu. CA bertindak sebagai pihak ketiga yang dipercaya untuk memverifikasi identitas pemilik kunci dan menandatangani sertifikat.

Sertifikat digital berisi informasi seperti nama subjek, kunci publik, tanggal validitas, dan tanda tangan CA. Dalam PKI, sertifikat digunakan untuk autentikasi, enkripsi, dan integritas data. Misalnya, dalam protokol HTTPS, browser menggunakan sertifikat server untuk memverifikasi bahwa situs web adalah sah dan komunikasi dienkripsi dengan TLS.

PKI penting dalam mencegah serangan seperti man-in-the-middle (MITM), di mana penyerang mencoba menyadap komunikasi. Dengan menggunakan sertifikat yang diverifikasi oleh CA terpercaya, pengguna dapat memastikan bahwa kunci publik yang diterima adalah milik entitas yang benar.

---

## 3. Alat dan Bahan
(- Python 3.x  
- Visual Studio Code / editor lain  
- Git dan akun GitHub  
- Library tambahan (misalnya pycryptodome, jika diperlukan)  )

---

## 4. Langkah Percobaan
1. Membuat folder `praktikum/week10-pki/src/` dan `praktikum/week10-pki/screenshots/`.
2. Install library tambahan dengan perintah `pip install cryptography pyopenssl`.
3. Membuat file `pki_cert.py` di folder `praktikum/week10-pki/src/` dengan kode untuk membuat sertifikat digital sederhana.
4. Menjalankan program dengan perintah `python pki_cert.py` untuk menghasilkan sertifikat `cert.pem`.
5. Verifikasi bahwa file `cert.pem` berhasil dibuat.

---

## 5. Source Code
```python
from cryptography import x509
from cryptography.x509.oid import NameOID
from cryptography.hazmat.primitives import hashes, serialization
from cryptography.hazmat.primitives.asymmetric import rsa
from datetime import datetime, timedelta

# Generate key pair
key = rsa.generate_private_key(public_exponent=65537, key_size=2048)

# Buat subject & issuer (CA sederhana = self-signed)
subject = issuer = x509.Name([
    x509.NameAttribute(NameOID.COUNTRY_NAME, u"ID"),
    x509.NameAttribute(NameOID.ORGANIZATION_NAME, u"UPB Kriptografi"),
    x509.NameAttribute(NameOID.COMMON_NAME, u"example.com"),
])

# Buat sertifikat
cert = (
    x509.CertificateBuilder()
    .subject_name(subject)
    .issuer_name(issuer)
    .public_key(key.public_key())
    .serial_number(x509.random_serial_number())
    .not_valid_before(datetime.utcnow())
    .not_valid_after(datetime.utcnow() + timedelta(days=365))
    .sign(key, hashes.SHA256())
)

# Simpan sertifikat
with open("cert.pem", "wb") as f:
    f.write(cert.public_bytes(serialization.Encoding.PEM))

print("Sertifikat digital berhasil dibuat: cert.pem")
```

---

## 6. Hasil dan Pembahasan
Program berhasil dijalankan tanpa error dan menghasilkan file `cert.pem` yang berisi sertifikat digital dalam format PEM. Sertifikat ini adalah self-signed certificate dengan subject "example.com" dan issuer "UPB Kriptografi". Hasil sesuai ekspektasi karena kode mengikuti panduan untuk membuat sertifikat sederhana menggunakan library cryptography.

Tidak ada error yang terjadi selama eksekusi. Sertifikat dapat diverifikasi menggunakan tools seperti OpenSSL untuk memastikan integritasnya.

Hasil eksekusi program:

![Hasil Eksekusi](screenshots/hasil.png)

---

## 7. Jawaban Pertanyaan
- Pertanyaan 1: Apa fungsi utama Certificate Authority (CA)?  
  Fungsi utama CA adalah sebagai pihak ketiga yang dipercaya untuk memverifikasi identitas pemilik kunci publik dan menandatangani sertifikat digital. CA memastikan bahwa sertifikat yang dikeluarkan sah dan dapat dipercaya oleh pengguna lain.

- Pertanyaan 2: Mengapa self-signed certificate tidak cukup untuk sistem produksi?  
  Self-signed certificate tidak cukup untuk sistem produksi karena tidak ada verifikasi dari pihak ketiga terpercaya. Pengguna tidak dapat memastikan bahwa sertifikat tersebut benar-benar berasal dari entitas yang diklaim, sehingga rentan terhadap serangan seperti spoofing atau MITM.

- Pertanyaan 3: Bagaimana PKI mencegah serangan MITM dalam komunikasi TLS/HTTPS?  
  PKI mencegah serangan MITM dengan menggunakan rantai kepercayaan yang dimulai dari root CA terpercaya. Browser memverifikasi sertifikat server melalui CA, memastikan bahwa kunci publik yang diterima adalah milik server yang benar, sehingga komunikasi dienkripsi dengan aman.
---

## 8. Kesimpulan
Praktikum ini berhasil mendemonstrasikan pembuatan sertifikat digital sederhana menggunakan Python dan library cryptography. Melalui simulasi ini, mahasiswa memahami peran CA dalam PKI dan pentingnya sertifikat dalam komunikasi aman seperti HTTPS. PKI terbukti efektif dalam mencegah serangan MITM dengan memanfaatkan rantai kepercayaan yang diverifikasi oleh CA terpercaya.

---

## 9. Daftar Pustaka
- Stallings, W. (2017). *Cryptography and Network Security: Principles and Practice* (7th ed.). Pearson. Bab 14: Public Key Infrastructure.

---

## 10. Commit Log
(Tuliskan bukti commit Git yang relevan.  
Contoh:
```
commit abc12345
Author: Nama Mahasiswa <email>
Date:   2025-09-20

    week2-cryptosystem: implementasi Caesar Cipher dan laporan )
```
