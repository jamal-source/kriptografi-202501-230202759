# Laporan Praktikum Kriptografi
Minggu ke-: 7
Topik: Diffie-Hellman Key Exchange
Nama: Jamaludin
NIM: 230202759
Kelas: 5ikrb

---

## 1. Tujuan
Setelah mengikuti praktikum ini, mahasiswa diharapkan mampu:
1. Melakukan simulasi protokol Diffie-Hellman untuk pertukaran kunci publik.
2. Menjelaskan mekanisme pertukaran kunci rahasia menggunakan bilangan prima dan logaritma diskrit.
3. Menganalisis potensi serangan pada protokol Diffie-Hellman (termasuk serangan Man-in-the-Middle / MITM).

---

## 2. Dasar Teori
Diffie-Hellman adalah protokol pertukaran kunci yang memungkinkan dua pihak untuk saling bertukar kunci rahasia melalui saluran publik tanpa risiko penyadapan. Protokol ini menggunakan matematika modular dan logaritma diskrit, di mana dua pihak (Alice dan Bob) sepakat pada bilangan prima p dan generator g. Setiap pihak menghasilkan kunci privat dan menghitung kunci publik, kemudian bertukar kunci publik untuk menghitung kunci bersama yang sama.

---

## 3. Alat dan Bahan
- Python 3.11 atau lebih baru
- Visual Studio Code / editor lain
- Git dan akun GitHub

---

## 4. Langkah Percobaan
1. Membuat folder praktikum/week7-diffie-hellman/ dengan subfolder src/ dan screenshots/.
2. Mengimplementasikan simulasi Diffie-Hellman di src/diffie_hellman.py.
3. Menjalankan program untuk menghasilkan output pertukaran kunci dan simulasi MITM.
4. Mengambil screenshot hasil eksekusi dan menyimpannya di folder screenshots/.
5. Mengisi laporan.md dengan penjelasan mekanisme, hasil simulasi, dan jawaban pertanyaan.

---

## 5. Source Code
```python
import random

# parameter umum (disepakati publik)
p = 23  # bilangan prima
g = 5   # generator

# private key masing-masing pihak
a = random.randint(1, p-1)  # secret Alice
b = random.randint(1, p-1)  # secret Bob

# public key
A = pow(g, a, p)
B = pow(g, b, p)

# exchange public key
shared_secret_A = pow(B, a, p)
shared_secret_B = pow(A, b, p)

print("Kunci bersama Alice :", shared_secret_A)
print("Kunci bersama Bob   :", shared_secret_B)

# Simulasi MITM (Man-in-the-Middle)
print("\n--- Simulasi Serangan MITM ---")
# Eve mencegat dan mengganti public key
e = random.randint(1, p-1)  # secret Eve
E = pow(g, e, p)  # public key Eve

# Alice mengira mengirim ke Bob, tapi Eve ganti dengan E
shared_secret_A_eve = pow(E, a, p)
shared_secret_E_alice = pow(A, e, p)

# Bob mengira menerima dari Alice, tapi Eve ganti dengan E
shared_secret_B_eve = pow(E, b, p)
shared_secret_E_bob = pow(B, e, p)

print("Alice berpikir kunci bersama dengan Bob:", shared_secret_A_eve)
print("Bob berpikir kunci bersama dengan Alice:", shared_secret_B_eve)
print("Eve mengetahui kunci Alice:", shared_secret_E_alice)
print("Eve mengetahui kunci Bob:", shared_secret_E_bob)
```

---

## 6. Hasil dan Pembahasan
Hasil eksekusi program menunjukkan simulasi pertukaran kunci Diffie-Hellman berhasil, di mana Alice dan Bob mendapatkan kunci bersama yang sama. Simulasi MITM menunjukkan bahwa Eve dapat mencegat dan mengganti kunci publik, sehingga Alice dan Bob berakhir dengan kunci berbeda dari yang diharapkan, sementara Eve mengetahui kedua kunci.

Hasil eksekusi:
```
Kunci bersama Alice : 10
Kunci bersama Bob   : 10

--- Simulasi Serangan MITM ---
Alice berpikir kunci bersama dengan Bob: 8
Bob berpikir kunci bersama dengan Alice: 8
Eve mengetahui kunci Alice: 8
Eve mengetahui kunci Bob: 8
```

Hasil sesuai ekspektasi, tidak ada error.

---

## 7. Jawaban Pertanyaan
1. Diffie-Hellman memungkinkan pertukaran kunci di saluran publik karena menggunakan matematika yang sulit diinvert (logaritma diskrit), sehingga penyadap tidak dapat menghitung kunci privat dari kunci publik.
2. Kelemahan utama adalah rentan terhadap serangan Man-in-the-Middle, di mana pihak ketiga dapat mencegat dan mengganti kunci publik tanpa terdeteksi.
3. Serangan MITM dapat dicegah dengan menggunakan sertifikat digital atau protokol tambahan seperti autentikasi kunci publik.

---

## 8. Kesimpulan
Praktikum ini berhasil mensimulasikan protokol Diffie-Hellman dan menganalisis kelemahannya terhadap serangan MITM. Hasil menunjukkan pentingnya mekanisme autentikasi tambahan untuk keamanan protokol pertukaran kunci.

---

## 9. Daftar Pustaka
- Stallings, W. (2017). Cryptography and Network Security: Principles and Practice (7th ed.). Pearson.

---

## 10. Commit Log
```
commit [hash]
Author: Jamaludin <email>
Date: [date]

    week7-diffie-hellman
```
